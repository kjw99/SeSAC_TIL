## Cursor

Cursor는 VS Code를 기반으로 한 AI 통합 코드 편집기이다. 자연어로 지시하면 AI가 코드를 작성하고, 수정하고, 분석해준다.

## 설치

[Cursor · Cursor: The best way to code with AI](https://cursor.com/)

![image.png](attachment:7dbc24ab-71bf-4472-aba6-808171998ea6:image.png)

### VS Code에서 설정 마이그레이션

기존에 VS Code를 사용하고 있었다면, 설정을 그대로 가져올 수 있다.

- Cmd+Shift+J / Ctrl+Shift+J를 눌러 Cursor 설정을 연다
- General > Preferecne의 VS Code Import 버튼을 클릭한다

### 핵심 기능 요약

Cursor의 AI 기능은 크게 세 가지이다.

- Tab
    - 코드를 입력하면 AI가 다음에 올 코드를 예측하여 제안한다
    - 빠른 수동 수정에 적합하다. 사용자가 완전히 제어한다
- Agent
    - AI에게 자연어로 지시하면 코드를 자동으로 작성하고 수정한다. Chat 패널에서 동작한다
    - 여러 파일에 걸친 변경에 적합하다. AI와 협업한다
- Inline Edit
    - 코드를 선택한 뒤 자연어로 수정을 요청한다
    - 한 파일 내 집중적 수정에 적합하다. 세밀하게 제어한다

---

## Tab 자동완성

Tab은 코드를 입력하는 도중에 AI가 다음에 올 코드를 예측하여 반투명한 글씨로 보여주는 기능이다. 일반적인 자동완성과 달리, 현재 작성 중인 코드뿐 아니라 최근 수정 내용, 린터 피드백, 프로젝트 전체 맥락을 참고하여 제안한다.

### 기본 조작

- 제안 수락: Tab을 누른다
- 제안 거부: Escape를 누르거나 계속 타이핑한다

### 주요 기능

- 멀티라인 편집 제안: 한 줄이 아니라 여러 줄의 코드를 한꺼번에 제안할 수 있다
- 파일 내 점프: 현재 파일에서 다음으로 편집해야 할 위치를 예측하여 이동을 제안한다
- 파일 간 점프: 다른 파일에서도 수정이 필요한 부분을 감지한다. 화면 하단에 포탈 창이 나타나며, Tab을 누르면 해당 파일로 이동한다
- Auto-import: TypeScript나 Python에서 외부 함수를 사용하면, 필요한 import 구문을 자동으로 추가해준다

---

## Inline Edit

Inline Edit은 코드를 직접 선택한 뒤, 에디터 안에서 바로 AI에게 수정을 요청하는 기능이다. Cmd+K / Ctrl+K를 눌러 사용한다.

### 기본 사용법

- 코드 선택 후 편집: 수정하고 싶은 코드를 드래그하여 선택한 뒤, Cmd+K / Ctrl+K를 누르고, 원하는 수정 내용을 자연어로 입력한다
- 새 코드 생성: 코드를 선택하지 않은 상태에서 Cmd+K / Ctrl+K를 누르면, 커서 위치에 새로운 코드가 생성된다
- Quick Question: Opt+Return / Alt+Enter를 누르면, 코드를 수정하지 않고 선택한 코드에 대해 질문만 할 수 있다
- 전체 파일 편집: Cmd+Shift+Return / Ctrl+Shift+Return을 누르면 파일 전체를 대상으로 수정을 요청한다
- Chat으로 보내기: Cmd+L / Ctrl+L을 누르면 선택한 코드가 Agent Chat으로 전송된다

### 후속 지시

- 결과가 마음에 들지 않으면, 추가 지시를 입력하고 Enter를 누른다
- AI가 이전 결과를 기반으로 다시 수정한다
- 원하는 결과가 나올 때까지 반복할 수 있다

---

## Agent

Agent는 Cursor의 가장 핵심적인 기능이다. Cmd+I / Ctrl+I를 눌러 열리는 Chat 패널에서 자연어로 지시하면, AI가 코드를 자동으로 작성하고 수정한다. 파일 검색, 여러 파일 동시 편집, 터미널 명령어 실행까지 가능하다.

### Agent가 사용하는 도구

- 시맨틱 검색: 프로젝트에서 의미 기반으로 코드를 검색한다
- 파일 읽기: 파일 내용을 읽어서 분석한다. 이미지 파일도 읽을 수 있다
- 파일 편집: 코드를 수정하고 새 파일을 생성한다
- 터미널 실행: 명령어를 실행하고 결과를 확인한다
- 웹 검색: 인터넷에서 정보를 검색한다
- 이미지 생성: UI 목업이나 다이어그램을 생성한다. 생성된 이미지는 프로젝트의 assets/ 폴더에 저장된다
- 질문하기: 명확하지 않은 부분이 있으면 사용자에게 질문한다. 답을 기다리는 동안에도 다른 작업을 이어갈 수 있다

### 4가지 모드

Agent에는 상황에 따라 사용할 수 있는 4가지 모드가 있다. Cmd+. / Ctrl+. 또는 Shift+Tab을 눌러 전환한다.

- Agent 모드
    - 기본 모드이다
    - 코드를 자율적으로 탐색하고, 여러 파일을 편집하고, 명령어를 실행한다
    - 복잡한 코딩 작업을 한 번의 지시로 처리할 수 있다
- Ask 모드
    - 읽기 전용 모드이다. 코드를 수정하지 않는다
    - 코드에 대해 질문하거나, 특정 기능이 어디에 구현되어 있는지 찾을 때 사용한다
- Plan 모드
    - Agent가 바로 코드를 작성하지 않고, 먼저 구현 계획을 마크다운으로 작성한다
    - 사용자가 계획을 검토하고 승인하면 실행을 시작한다
    - 복잡한 기능을 구현하거나, 여러 파일을 수정해야 할 때 유용하다
- Debug 모드
    - 재현 가능하지만 원인을 찾기 어려운 버그를 추적할 때 사용한다
    - Agent가 로그를 추가하고, 사용자가 버그를 재현하면, 로그를 분석하여 원인을 파악한다
    - 수정 후 로그 구문을 자동으로 정리한다

### 체크포인트

- Agent가 작업을 수행할 때마다 자동으로 체크포인트가 생성된다
- Agent의 변경 사항이 마음에 들지 않으면 Restore Checkpoint를 클릭하여 이전 상태로 되돌릴 수 있다
- 실수를 걱정하지 않고 자유롭게 실험할 수 있다

### 큐 메시지

- Agent가 작업 중일 때도 다음 지시를 미리 입력해둘 수 있다
- Enter를 누르면 메시지가 큐에 추가된다
- Cmd+Enter / Ctrl+Enter를 누르면 즉시 전송된다

### Subagent

- Agent가 복잡한 작업을 처리할 때, 일부를 별도의 서브에이전트에게 나눠서 맡기는 기능이다
- 서브에이전트는 메인 Agent와 별도의 컨텍스트에서 동작한다
- Cursor에는 코드베이스 탐색용, 터미널 실행용 등 기본 서브에이전트가 내장되어 있어, Agent 대화 시 자동으로 활용된다
- 필요하면 .cursor/agents/ 폴더에 마크다운 파일로 직접 정의할 수도 있다

### 효과적인 지시 방법

- 구체적으로 지시할수록 결과가 좋다
    - 나쁜 예: "auth.ts에 테스트를 추가해줘"
    - 좋은 예: "auth.ts의 로그아웃 기능에 대한 테스트를 작성해줘. **tests**/ 폴더의 패턴을 따르고, mock은 사용하지 마"
- 작업 주제가 바뀌면 새로운 대화를 시작하는 것이 좋다. 긴 대화는 Agent의 집중도를 떨어뜨린다
- Agent가 엉뚱한 방향으로 작업하면 Escape를 눌러 중단할 수 있다
- @ 로 수정 대상 파일을 지정해 두면 불필요한 파일을 건드리지 않게 할 수 있다
- 에러가 났을 때는 에러 메시지 전체와 관련 코드를 붙여 넣으면 원인 파악에 도움이 된다

---

## 컨텍스트 관리

컨텍스트는 AI가 코드를 생성할 때 참고하는 모든 정보이다. AI에게 더 정확한 컨텍스트를 제공할수록, 더 좋은 결과를 얻을 수 있다.

### @멘션

Agent 입력 창에서 @를 입력하면 다양한 컨텍스트를 추가할 수 있다.

- @Files & Folders: 특정 파일이나 폴더를 참고하도록 지정한다. 사이드바에서 드래그해도 된다
- @Code: 함수 하나, 클래스 하나 등 특정 코드 조각을 정밀하게 지정한다
- @Docs: 외부 문서를 참고 자료로 추가한다. URL을 입력하여 직접 추가할 수도 있다
- @Past Chats: 이전 대화를 참조한다. 이전에 논의한 내용을 다시 설명하지 않아도 된다

### Rules

AI가 코드를 작성할 때 항상 따라야 할 규칙을 정의하는 기능이다. AI 모델은 대화 간에 기억을 유지하지 않기 때문에, Rules를 통해 일관된 지침을 제공할 수 있다.

- Project Rules: .cursor/rules/ 폴더에 마크다운 파일로 저장한다. Git으로 버전 관리가 가능하다
- User Rules: 개인 설정으로, 모든 프로젝트에 적용된다. Cursor 설정에서 관리한다
- [AGENTS.md](http://agents.md/): 프로젝트 루트에 놓는 간단한 대안이다. 마크다운 파일 하나로 규칙을 정의할 수 있다

규칙 적용 방식은 4가지이다.

- Always Apply: 모든 대화에 항상 포함된다
- Apply Intelligently: Agent가 관련성을 판단하여 자동으로 포함한다
- Apply to Specific Files: 특정 파일 패턴에 해당할 때만 포함된다
- Apply Manually: @rule-name으로 직접 호출할 때만 포함된다

규칙 작성 예시:

```markdown
---
description: "코드 스타일 규칙"
alwaysApply: true
---

- 함수 이름은 소문자와 밑줄을 사용한다
- 주석은 한국어로 작성한다
- 들여쓰기는 스페이스 4칸을 사용한다
```

### Skill

- Agent가 특정 작업을 할 때 참고하는 도메인별 지침 파일이다
- [SKILL.md](http://skill.md/) 형식으로 작성하며, 언제 이 스킬을 쓸지, 어떤 순서로 할지 같은 절차를 적어 둔다
- Rules는 프로젝트 전반의 컨벤션을 항상 적용하는 반면, Skill은 작업이 맞을 때만 Agent가 불러 쓴다
- 개인용은 ~/.cursor/skills/, 프로젝트용은 .cursor/skills/ 에 둔다
- 슬래시 명령 메뉴에서 스킬 이름을 골라 사용을 요청할 수 있다